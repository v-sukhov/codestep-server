basePath: /
consumes:
- application/json
definitions:
  AddSupertaskToContestData:
    properties:
      orderNumber:
        format: int16
        type: integer
        x-go-name: OrderNumber
    type: object
    x-go-package: codestep/services
  AddSupertaskToContestRequest:
    properties:
      SupertaskVersionNumber:
        format: int32
        type: integer
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
    type: object
    x-go-package: codestep/services
  AddSupertaskToContestResponse:
    properties:
      data:
        $ref: '#/definitions/AddSupertaskToContestData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  ContestWithRights:
    properties:
      contestDesc:
        type: string
        x-go-name: ContestDesc
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      contestLogoHref:
        type: string
        x-go-name: ContestLogoHref
      contestName:
        type: string
        x-go-name: ContestName
      userRightsBitmask:
        format: int32
        type: integer
        x-go-name: UserRightsBitmask
    type: object
    x-go-package: codestep/db
  GetContestSupertasksListData:
    properties:
      supertasksList:
        items:
          $ref: '#/definitions/SupertaskInContestInfo'
        type: array
        x-go-name: SupertasksList
    type: object
    x-go-package: codestep/services
  GetContestSupertasksListRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
    type: object
    x-go-package: codestep/services
  GetContestSupertasksListResponse:
    properties:
      data:
        $ref: '#/definitions/GetContestSupertasksListData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetSupertaskAllTasksResultsData:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      tasksResults:
        items:
          $ref: '#/definitions/TaskResult'
        type: array
        x-go-name: TasksResults
    type: object
    x-go-package: codestep/services
  GetSupertaskAllTasksResultsRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
    type: object
    x-go-package: codestep/services
  GetSupertaskAllTasksResultsResponse:
    properties:
      data:
        $ref: '#/definitions/GetSupertaskAllTasksResultsData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetSupertaskData:
    properties:
      authorUserId:
        format: int32
        type: integer
        x-go-name: AuthorUserId
      commitMessage:
        type: string
        x-go-name: CommitMessage
      commited:
        type: boolean
        x-go-name: Commited
      parentVersionNumber:
        format: int32
        type: integer
        x-go-name: ParentVersionNumber
      saveDTM:
        format: date-time
        type: string
        x-go-name: SaveDTM
      supertaskDesc:
        type: string
        x-go-name: SupertaskDesc
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskName:
        type: string
        x-go-name: SupertaskName
      supertaskObjectJson:
        type: string
        x-go-name: SupertaskObjectJson
      versionNumber:
        format: int32
        type: integer
        x-go-name: VersionNumber
    type: object
    x-go-package: codestep/services
  GetSupertaskRequest:
    properties:
      authorUserId:
        format: int32
        type: integer
        x-go-name: AuthorUserId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      versionNumber:
        format: int32
        type: integer
        x-go-name: VersionNumber
    type: object
    x-go-package: codestep/services
  GetSupertaskResponse:
    properties:
      data:
        $ref: '#/definitions/GetSupertaskData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetSupertaskResultData:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      passed:
        type: boolean
        x-go-name: Passed
      saveDTM:
        format: date-time
        type: string
        x-go-name: SaveDTM
      score:
        format: int16
        type: integer
        x-go-name: Score
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskVersionNumber:
        format: int32
        type: integer
        x-go-name: SupertaskVersionNumber
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
      tries:
        format: int16
        type: integer
        x-go-name: Tries
    type: object
    x-go-package: codestep/services
  GetSupertaskResultRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
    type: object
    x-go-package: codestep/services
  GetSupertaskResultResponse:
    properties:
      data:
        $ref: '#/definitions/GetSupertaskResultData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetSupertaskSolutionData:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      saveDTM:
        format: date-time
        type: string
        x-go-name: SaveDTM
      solutionDesc:
        type: string
        x-go-name: SolutionDesc
      solutionKey:
        format: int16
        type: integer
        x-go-name: SolutionKey
      solutionStatus:
        format: int16
        type: integer
        x-go-name: SolutionStatus
      solutionWorkspaceXML:
        type: string
        x-go-name: SolutionWorkspaceXML
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskVersionNumber:
        format: int32
        type: integer
        x-go-name: SupertaskVersionNumber
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
    type: object
    x-go-package: codestep/services
  GetSupertaskSolutionRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      solutionKey:
        format: int16
        type: integer
        x-go-name: SolutionKey
      solutionStatus:
        format: int16
        type: integer
        x-go-name: SolutionStatus
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
    type: object
    x-go-package: codestep/services
  GetSupertaskSolutionResponse:
    properties:
      data:
        $ref: '#/definitions/GetSupertaskSolutionData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetUserContestListData:
    properties:
      contestList:
        items:
          $ref: '#/definitions/ContestWithRights'
        type: array
        x-go-name: ContestList
    type: object
    x-go-package: codestep/services
  GetUserContestListRequest:
    type: object
    x-go-package: codestep/services
  GetUserContestListResponse:
    properties:
      data:
        $ref: '#/definitions/GetUserContestListData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  GetUserSupertaskListData:
    properties:
      supertasks:
        items:
          $ref: '#/definitions/SupertaskLastVersionInfo'
        type: array
        x-go-name: Supertasks
    type: object
    x-go-package: codestep/services
  GetUserSupertaskListRequest:
    type: object
    x-go-package: codestep/services
  GetUserSupertaskListResponse:
    properties:
      data:
        $ref: '#/definitions/GetUserSupertaskListData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  LoginRequest:
    properties:
      login:
        type: string
        x-go-name: Login
      password:
        type: string
        x-go-name: Password
    type: object
    x-go-package: codestep/security
  LoginResponse:
    properties:
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
      token:
        type: string
        x-go-name: Token
    type: object
    x-go-package: codestep/security
  LogoutRequest:
    type: object
    x-go-package: codestep/security
  LogoutResponse:
    properties:
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/security
  RemoveSupertaskFromContestData:
    type: object
    x-go-package: codestep/services
  RemoveSupertaskFromContestRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
    type: object
    x-go-package: codestep/services
  RemoveSupertaskFromContestResponse:
    properties:
      data:
        $ref: '#/definitions/RemoveSupertaskFromContestData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  SaveContestData:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
    type: object
    x-go-package: codestep/services
  SaveContestRequest:
    properties:
      contestDesc:
        type: string
        x-go-name: ContestDesc
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      contestLogoHref:
        type: string
        x-go-name: ContestLogoHref
      contestName:
        type: string
        x-go-name: ContestName
    type: object
    x-go-package: codestep/services
  SaveContestResponse:
    properties:
      data:
        $ref: '#/definitions/SaveContestData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  SaveSupertaskData:
    properties:
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      versionNumber:
        format: int32
        type: integer
        x-go-name: VersionNumber
    type: object
    x-go-package: codestep/services
  SaveSupertaskRequest:
    properties:
      commitMessage:
        type: string
        x-go-name: CommitMessage
      commited:
        type: boolean
        x-go-name: Commited
      parentVersionNumber:
        format: int32
        type: integer
        x-go-name: ParentVersionNumber
      supertaskDesc:
        type: string
        x-go-name: SupertaskDesc
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskName:
        type: string
        x-go-name: SupertaskName
      supertaskObjectJson:
        type: string
        x-go-name: SupertaskObjectJson
    type: object
    x-go-package: codestep/services
  SaveSupertaskResponse:
    properties:
      data:
        $ref: '#/definitions/SaveSupertaskData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  SaveSupertaskResultData:
    type: object
    x-go-package: codestep/services
  SaveSupertaskResultRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      passed:
        type: boolean
        x-go-name: Passed
      score:
        format: int16
        type: integer
        x-go-name: Score
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskVersionNumber:
        format: int32
        type: integer
        x-go-name: SupertaskVersionNumber
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
      tries:
        format: int16
        type: integer
        x-go-name: Tries
    type: object
    x-go-package: codestep/services
  SaveSupertaskResultResponse:
    properties:
      data:
        $ref: '#/definitions/SaveSupertaskResultData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  SaveSupertaskSolutionData:
    type: object
    x-go-package: codestep/services
  SaveSupertaskSolutionRequest:
    properties:
      contestId:
        format: int32
        type: integer
        x-go-name: ContestId
      solutionDesc:
        type: string
        x-go-name: SolutionDesc
      solutionKey:
        format: int16
        type: integer
        x-go-name: SolutionKey
      solutionStatus:
        format: int16
        type: integer
        x-go-name: SolutionStatus
      solutionWorkspaceXML:
        type: string
        x-go-name: SolutionWorkspaceXML
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskVersionNumber:
        format: int32
        type: integer
        x-go-name: SupertaskVersionNumber
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
    type: object
    x-go-package: codestep/services
  SaveSupertaskSolutionResponse:
    properties:
      data:
        $ref: '#/definitions/SaveSupertaskSolutionData'
      message:
        type: string
        x-go-name: Message
      success:
        type: boolean
        x-go-name: Success
    type: object
    x-go-package: codestep/services
  SupertaskInContestInfo:
    properties:
      orderNumber:
        format: int16
        type: integer
        x-go-name: OrderNumber
      supertaskDesc:
        type: string
        x-go-name: SupertaskDesc
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskName:
        type: string
        x-go-name: SupertaskName
      versionNumber:
        format: int32
        type: integer
        x-go-name: VersionNumber
    type: object
    x-go-package: codestep/db
  SupertaskLastVersionInfo:
    properties:
      commitMessage:
        type: string
        x-go-name: CommitMessage
      commited:
        type: boolean
        x-go-name: Commited
      lastVersionNumber:
        format: int32
        type: integer
        x-go-name: LastVersionNumber
      ownerUserId:
        format: int32
        type: integer
        x-go-name: OwnerUserId
      ownerUserName:
        type: string
        x-go-name: OwnerUserName
      parentVersionNumber:
        type: string
        x-go-name: ParentVersionNumber
      saveDTM:
        format: date-time
        type: string
        x-go-name: SaveDTM
      supertaskCreateDTM:
        format: date-time
        type: string
        x-go-name: SupertaskCreateDTM
      supertaskDesc:
        type: string
        x-go-name: SupertaskDesc
      supertaskId:
        format: int32
        type: integer
        x-go-name: SupertaskId
      supertaskName:
        type: string
        x-go-name: SupertaskName
      supertaskRightTypeId:
        format: int32
        type: integer
        x-go-name: SupertaskRightTypeId
      supertaskRightTypeName:
        type: string
        x-go-name: SupertaskRightTypeName
      versionAuthorUserName:
        type: string
        x-go-name: VersionAuthorUserName
    type: object
    x-go-package: codestep/db
  TaskResult:
    properties:
      passed:
        type: boolean
        x-go-name: Passed
      saveDTM:
        format: date-time
        type: string
        x-go-name: SaveDTM
      score:
        format: int16
        type: integer
        x-go-name: Score
      supertaskVersionNumber:
        format: int32
        type: integer
        x-go-name: SupertaskVersionNumber
      taskNum:
        format: int16
        type: integer
        x-go-name: TaskNum
      tries:
        format: int16
        type: integer
        x-go-name: Tries
    type: object
    x-go-package: codestep/services
host: localhost
info:
  description: Documentation of codestep JSON API.
  title: classification codestep
  version: 1.0.0
paths:
  /api/login:
    post:
      description: Authenticate user
      operationId: idOfLoginEndpoint
      parameters:
      - description: Login and password
        in: body
        name: Body
        schema:
          $ref: '#/definitions/LoginRequest'
      responses:
        "200":
          $ref: '#/responses/loginResponse'
      tags:
      - login
  /api/protected/add-supertask-to-contest:
    post:
      description: Добавить суперзадачу в контест
      operationId: idOfAddSupertaskToContestEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/AddSupertaskToContestRequest'
      responses:
        "200":
          $ref: '#/responses/addSupertaskToContestResponse'
      tags:
      - add-supertask-to-contest
  /api/protected/get-contest-supertasks-list:
    post:
      description: Возвращает список суперзадач контеста
      operationId: idOfGetContestSupertasksListEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetContestSupertasksListRequest'
      responses:
        "200":
          $ref: '#/responses/getContestSupertasksListResponse'
      tags:
      - get-contest-supertasks-list
  /api/protected/get-supertask:
    post:
      description: |-
        Возвращает объект версии суперзадачи
        Если versionNumber присутствует и != 0 - возвращает соответствующую закоммиченную версию
        Иначе если authorUserId присутствует и != 0 - возвращает рабочую версию соответствующего пользователя
        Иначе возвращает рабочую версию запрашивающего пользователя
      operationId: idOfGetSupertaskEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetSupertaskRequest'
      responses:
        "200":
          $ref: '#/responses/getSupertaskResponse'
      tags:
      - get-supertask
  /api/protected/get-supertask-all-tasks-results:
    post:
      description: Получить результаты по всем задачам суперзадачи
      operationId: idOfGetSupertaskAllTasksResultsEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetSupertaskAllTasksResultsRequest'
      responses:
        "200":
          $ref: '#/responses/getSupertaskAllTasksResultsResponse'
      tags:
      - get-supertask-all-tasks-results
  /api/protected/get-supertask-result:
    post:
      description: Получить результат по задаче
      operationId: idOfGetSupertaskResultEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetSupertaskResultRequest'
      responses:
        "200":
          $ref: '#/responses/getSupertaskResultResponse'
      tags:
      - get-supertask-result
  /api/protected/get-supertask-solution:
    post:
      description: Получить решение задачи
      operationId: idOfGetSupertaskSolutionEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetSupertaskSolutionRequest'
      responses:
        "200":
          $ref: '#/responses/getSupertaskSolutionResponse'
      tags:
      - get-supertask-solution
  /api/protected/get-user-contest-list:
    post:
      description: Возвращает список контестов пользователя с указанием уровня прав
      operationId: idOfGetUserContestListEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetUserContestListRequest'
      responses:
        "200":
          $ref: '#/responses/getUserContestListResponse'
      tags:
      - get-user-contest-list
  /api/protected/get-user-supertask-list:
    post:
      description: Get supertask list for current user
      operationId: idOfGetUserSupertaskListEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/GetUserSupertaskListRequest'
      responses:
        "200":
          $ref: '#/responses/getUserSupertaskListResponse'
      tags:
      - get-user-supertask-list
  /api/protected/remove-supertask-from-contest:
    post:
      description: Удаляет суперзадачу из контеста
      operationId: idOfRemoveSupertaskFromContestEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/RemoveSupertaskFromContestRequest'
      responses:
        "200":
          $ref: '#/responses/removeSupertaskFromContestResponse'
      tags:
      - remove-supertask-from-contest
  /api/protected/save-contest:
    post:
      description: Сохранить контест
      operationId: idOfSaveContestEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/SaveContestRequest'
      responses:
        "200":
          $ref: '#/responses/saveContest'
      tags:
      - save-contest
  /api/protected/save-supertask:
    post:
      description: |-
        Save supertask
        Если SupertaskId = 0 - создаётся новый supertask
        Если Commited = true создаётся закоммиченная неизменяемая версия supertask.
        Ей присвивается новый номер версии. При этом указывается ParentVersionNumber - от какой версии произведена.
        Если ParentVersionNumber = 0 - то это считается первоначальной версией, то есть которая ни от чего не произведена.
        Если Commited = false создаётся незакоммиченная версия данного пользователя.
        Незакоммиченная версия у данного ползователя может быть только одна.
      operationId: idOfSaveSupertaskEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/SaveSupertaskRequest'
      responses:
        "200":
          $ref: '#/responses/saveSupertaskResponse'
      tags:
      - save-supertask
  /api/protected/save-supertask-result:
    post:
      description: Сохранить результат тестирования задачи
      operationId: idOfSaveSupertaskResultEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/SaveSupertaskResultRequest'
      responses:
        "200":
          $ref: '#/responses/saveSupertaskResultResponse'
      tags:
      - save-supertask-result
  /api/protected/save-supertask-solution:
    post:
      description: Сохранить решение задачи
      operationId: idOfSaveSupertaskSolutionEndpoint
      parameters:
      - in: body
        name: Body
        schema:
          $ref: '#/definitions/SaveSupertaskSolutionRequest'
      responses:
        "200":
          $ref: '#/responses/saveSupertaskSolutionResponse'
      tags:
      - save-supertask-solution
  /api/protectes/logout:
    post:
      description: Logout user
      operationId: idOfLogoutEndpoint
      parameters:
      - description: Empty request
        in: body
        name: Body
        schema:
          $ref: '#/definitions/LogoutRequest'
      responses:
        "200":
          $ref: '#/responses/logoutResponse'
      tags:
      - logout
produces:
- application/json
responses:
  addSupertaskToContestResponse:
    description: Add supertask to contest
    schema:
      $ref: '#/definitions/AddSupertaskToContestResponse'
  getContestSupertasksListResponse:
    description: Get contest supertask list
    schema:
      $ref: '#/definitions/GetContestSupertasksListResponse'
  getSupertaskAllTasksResultsResponse:
    description: Get supertask all tasks results success
    schema:
      $ref: '#/definitions/GetSupertaskAllTasksResultsResponse'
  getSupertaskResponse:
    description: Save supertask success
    schema:
      $ref: '#/definitions/GetSupertaskResponse'
  getSupertaskResultResponse:
    description: Get supertask result success
    schema:
      $ref: '#/definitions/GetSupertaskResultResponse'
  getSupertaskSolutionResponse:
    description: Get supertask solution success
    schema:
      $ref: '#/definitions/GetSupertaskSolutionResponse'
  getUserContestListResponse:
    description: Get user contest list
    schema:
      $ref: '#/definitions/GetUserContestListResponse'
  getUserSupertaskListResponse:
    description: Save supertask success
    schema:
      $ref: '#/definitions/GetUserSupertaskListResponse'
  loginResponse:
    description: User authentication success
    schema:
      $ref: '#/definitions/LoginResponse'
  logoutResponse:
    description: User logout success
    schema:
      $ref: '#/definitions/LogoutResponse'
  removeSupertaskFromContestResponse:
    description: Remove supertask from contest
    schema:
      $ref: '#/definitions/RemoveSupertaskFromContestResponse'
  saveContestResponse:
    description: Save contest success
    schema:
      $ref: '#/definitions/SaveContestResponse'
  saveSupertaskResponse:
    description: Save supertask success
    schema:
      $ref: '#/definitions/SaveSupertaskResponse'
  saveSupertaskResultResponse:
    description: Save supertask result success
    schema:
      $ref: '#/definitions/SaveSupertaskResultResponse'
  saveSupertaskSolutionResponse:
    description: Save supertask solution success
    schema:
      $ref: '#/definitions/SaveSupertaskSolutionResponse'
schemes:
- http
securityDefinitions:
  basic:
    type: basic
swagger: "2.0"
